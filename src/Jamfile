SubDir TOP src ;

SubDirSysHdrs [ FDirName $(TOP) ] ;

# This is the list of locations where
# we have sources. If you add a location
# you have to add it here.
SEARCH_SOURCE += [ FDirName $(TOP) src ] ;
SEARCH_SOURCE += [ FDirName $(TOP) src gui ] ;

SEARCH_SOURCE += [ FDirName $(TOP) src media ] ;
SEARCH_SOURCE += [ FDirName $(TOP) src media node_manager ] ;
SEARCH_SOURCE += [ FDirName $(TOP) src media node_manager support ] ;

SEARCH_SOURCE += [ FDirName $(TOP) src audio ] ;
SEARCH_SOURCE += [ FDirName $(TOP) src audio effects ] ;
SEARCH_SOURCE += [ FDirName $(TOP) src audio nodes ] ;
SEARCH_SOURCE += [ FDirName $(TOP) src audio mixer ] ;

SEARCH_SOURCE += [ FDirName $(TOP) src views ] ;
SEARCH_SOURCE += [ FDirName $(TOP) src views track ] ;
SEARCH_SOURCE += [ FDirName $(TOP) src views track old_render ] ;
SEARCH_SOURCE += [ FDirName $(TOP) src views track scope_render ] ;
SEARCH_SOURCE += [ FDirName $(TOP) src views widgets ] ;

SEARCH_SOURCE += [ FDirName $(TOP) src windows ] ;
SEARCH_SOURCE += [ FDirName $(TOP) src windows mixer ] ;
SEARCH_SOURCE += [ FDirName $(TOP) src windows tools ] ;
SEARCH_SOURCE += [ FDirName $(TOP) src windows tools parameter_window ] ;
SEARCH_SOURCE += [ FDirName $(TOP) src windows misc ] ;

SEARCH_SOURCE += [ FDirName $(TOP) src common ] ;

# NOTE this is the location for headers needed to 
# access the BPrivate namespace data, only put such type of
# headers there. 
SEARCH_SOURCE += [ FDirName $(TOP) src common private_headers ] ;

SEARCH_SOURCE += [ FDirName $(TOP) src preferences ] ;


Application Faber :
	# Core
	Faber.cpp
	FaberWindow.cpp
	FaberView.cpp

	CommandsServer.cpp
	ProjectManager.cpp
	WindowsManager.cpp
	MenuManager.cpp

	TracksContainer.cpp
	ToolBar.cpp
	InfoToolBar.cpp
	FaberScrollBar.cpp
	TimeBar.cpp

	# Widgets
	FaberWidget.cpp
	TransportWidget.cpp
	ZoomWidget.cpp
	ToolsWidget.cpp
	DurationView.cpp
	WidgetFrame.cpp

	# TrackView implementations

	TrackView.cpp
	AudioTrackView.cpp
	
	# scope render
	DrawingTidbits.cpp
	ScopeView.cpp

	# Various windows and related code
	ProgressWindow.cpp
	ExportWindow.cpp
	AboutWindow.cpp
	InputRequest.cpp
	InputRequestView.cpp
	ScreenInfo.cpp
	EffectWindow.cpp

	ParameterWindow.cpp
	ParameterContainerView.cpp

	# Gui Widgets
	SpinSlider.cpp
	PeakView.cpp
	VolumeSlider.cpp
	FStringItem.cpp
	IconButton.cpp
	ToolButton.cpp
	Spinner.cpp
	Divider.cpp
	SplitterView.cpp
	MediaFileInfoView.cpp

	# Settings
	SettingsWindow.cpp
	SettingsView.cpp
	Settings.cpp
	FaberPreferences.cpp
	FaberShortcut.cpp

	DefaultKeymap.cpp

	Engine.cpp
	Interface.cpp
	Keymap.cpp
	ColorScheme.cpp
	SwatchView.cpp

	# Common
	Singleton.cpp
	MouseIcons.cpp

	# Audio and Media internal API
	Track.cpp
	AudioTrack.cpp
	MediaGate.cpp
	AudioGate.cpp

	EffectsManager.cpp
	FaberEffect.cpp
	AudioEffect.cpp

	MediaFileInfo.cpp

	# NodeManager 
	AddOnHost.cpp
	Connection.cpp
	NodeManager.cpp
	NodeGroup.cpp
	NodeRef.cpp
	NodeSyncThread.cpp

	# NodeManager support
	MultiInvoker.cpp
	ObservableLooper.cpp
	ObservableHandler.cpp
	observe.cpp

	# Audio nodes
	AudioNode.cpp

	# Audio Mixer
	AudioMixer.cpp
	ByteSwap.cpp
	Interpolate.cpp
	MixerCore.cpp
	MixerInput.cpp
	MixerOutput.cpp
	MixerSettings.cpp
	MixerUtils.cpp
	Resampler.cpp

	# Effects
	#SimpleEffects.cpp
	Amplifier.cpp
	BassBoost.cpp
	#Limiter.cpp
	Compressor.cpp
	#Normalize.cpp
	#Room.cpp
	#Reverb.cpp
	Delay.cpp

	#Resample.cpp
	#ZeroCrossings.cpp
	#Trim.cpp

	: be media $(TARGET_LIBSTDC++) game tracker translation localestub
	: Faber.rdef ToolBarIcons.rdef AudioMixer.rdef
;

InstallBin $(FABER_DIRECTORY) : Faber ;
